/* ===== نظام الأيقونات RTL المحسن ===== */

/* قواعد عامة للأيقونات في البيئة العربية */
[dir='rtl'] .rtl-icon {
  /* تحسين الأداء للتحويلات */
  will-change: transform;
  transition: transform 0.2s ease;
}

/* ===== إصلاح دقيق للأسهم الاتجاهية فقط ===== */

/* إصلاح الأسهم الاتجاهية المحددة بوضوح */
[dir='rtl'] .arrow-icon svg,
[dir='rtl'] .chevron-icon svg,
[dir='rtl'] .directional-icon svg,
[dir='rtl'] .back-arrow svg,
[dir='rtl'] .forward-arrow svg {
  transform: scaleX(-1);
}

/* إصلاح أسهم Heroicons المحددة للاتجاه فقط */
[dir='rtl'] svg[data-slot='icon'].arrow-left,
[dir='rtl'] svg[data-slot='icon'].chevron-left,
[dir='rtl'] svg[data-slot='icon'].arrow-right,
[dir='rtl'] svg[data-slot='icon'].chevron-right {
  transform: scaleX(-1);
}

/* عكس أيقونات الاتجاه المحددة تلقائياً في RTL */
[dir='rtl'] .auto-flip-icon {
  transform: scaleX(-1);
}

/* أيقونات محددة تحتاج عكس في RTL */
[dir='rtl'] .arrow-left-icon,
[dir='rtl'] .chevron-left-icon,
[dir='rtl'] .back-icon,
[dir='rtl'] .navigation-arrow {
  transform: scaleX(-1);
}

/* ===== أيقونات لا تحتاج عكس أبداً ===== */

/* فئة عامة لمنع العكس */
[dir='rtl'] .no-flip-icon,
[dir='rtl'] .no-flip-icon svg,
html[dir='rtl'] .no-flip-icon,
html[dir='rtl'] .no-flip-icon svg,
html[lang='ar'] .no-flip-icon,
html[lang='ar'] .no-flip-icon svg {
  transform: none !important;
}

/* أيقونات العرض والتحكم */
[dir='rtl'] .view-mode-icon,
[dir='rtl'] .view-mode-icon svg,
[dir='rtl'] .control-icon,
[dir='rtl'] .control-icon svg,
html[dir='rtl'] .view-mode-icon,
html[dir='rtl'] .view-mode-icon svg,
html[dir='rtl'] .control-icon,
html[dir='rtl'] .control-icon svg,
html[lang='ar'] .view-mode-icon,
html[lang='ar'] .view-mode-icon svg,
html[lang='ar'] .control-icon,
html[lang='ar'] .control-icon svg {
  transform: none !important;
}

/* أيقونات محددة لا تحتاج عكس */
[dir='rtl'] .search-icon,
[dir='rtl'] .close-icon,
[dir='rtl'] .menu-icon,
[dir='rtl'] .settings-icon,
[dir='rtl'] .user-icon,
[dir='rtl'] .heart-icon,
[dir='rtl'] .star-icon,
[dir='rtl'] .phone-icon,
[dir='rtl'] .email-icon,
[dir='rtl'] .location-icon,
[dir='rtl'] .trophy-icon,
[dir='rtl'] .building-icon,
[dir='rtl'] .check-icon,
[dir='rtl'] .success-icon {
  transform: none !important;
}

/* ===== أنماط أزرار الرجوع ===== */

/* زر الرجوع الأساسي */
.back-button {
  @apply inline-flex items-center gap-2 rounded-lg border px-3 py-2 font-medium transition-colors;
}

/* أنماط ألوان أزرار الرجوع */
.back-button-default {
  @apply border-gray-200 bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900;
}

.back-button-purple {
  @apply border-purple-200 bg-purple-50 text-purple-700 hover:bg-purple-100 hover:text-purple-900;
}

.back-button-green {
  @apply border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 hover:text-emerald-900;
}

.back-button-blue {
  @apply border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 hover:text-blue-900;
}

.back-button-gray {
  @apply border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-gray-900;
}

/* أحجام أزرار الرجوع */
.back-button-sm {
  @apply gap-1.5 p-1.5 text-sm;
}

.back-button-sm .rtl-icon {
  @apply h-4 w-4;
}

.back-button-md {
  @apply gap-2 p-2 text-base;
}

.back-button-md .rtl-icon {
  @apply h-5 w-5;
}

.back-button-lg {
  @apply gap-3 p-3 text-lg;
}

.back-button-lg .rtl-icon {
  @apply h-6 w-6;
}

/* ===== تحسينات إضافية ===== */

/* تأثيرات التفاعل */
.back-button:hover .rtl-icon {
  transform: translateX(-2px);
}

[dir='rtl'] .back-button:hover .rtl-icon {
  transform: translateX(2px);
}

/* تأثير النقر */
.back-button:active {
  transform: scale(0.98);
}

/* حالة التعطيل */
.back-button:disabled {
  @apply cursor-not-allowed opacity-50;
}

.back-button:disabled:hover .rtl-icon {
  transform: none;
}

/* ===== أيقونات التنقل الشائعة ===== */

/* أيقونات الأسهم */
.icon-arrow-left,
.icon-arrow-right,
.icon-chevron-left,
.icon-chevron-right {
  transition: transform 0.2s ease;
}

/* عكس الأسهم في RTL */
[dir='rtl'] .icon-arrow-left {
  transform: rotate(180deg);
}

[dir='rtl'] .icon-arrow-right {
  transform: rotate(180deg);
}

[dir='rtl'] .icon-chevron-left {
  transform: rotate(180deg);
}

[dir='rtl'] .icon-chevron-right {
  transform: rotate(180deg);
}

/* ===== أنماط مساعدة ===== */

/* للأيقونات التي تحتاج عكس يدوي */
.flip-horizontal {
  transform: scaleX(-1);
}

.flip-vertical {
  transform: scaleY(-1);
}

.rotate-180 {
  transform: rotate(180deg);
}

/* للأيقونات في الأزرار */
.btn-icon {
  @apply h-5 w-5 transition-transform duration-200;
}

.btn-icon-sm {
  @apply h-4 w-4;
}

.btn-icon-lg {
  @apply h-6 w-6;
}

/* تأثيرات التفاعل للأيقونات */
.interactive-icon:hover {
  transform: scale(1.1);
}

[dir='rtl'] .interactive-icon:hover {
  transform: scale(1.1);
}

/* ===== إصلاحات خاصة ===== */

/* إصلاح أيقونات Heroicons في RTL */
[dir='rtl'] .heroicon-arrow-left {
  transform: scaleX(-1);
}

[dir='rtl'] .heroicon-arrow-right {
  transform: scaleX(-1);
}

[dir='rtl'] .heroicon-chevron-left {
  transform: scaleX(-1);
}

[dir='rtl'] .heroicon-chevron-right {
  transform: scaleX(-1);
}

/* ===== تحسينات الأداء ===== */

/* تحسين الرسم للأيقونات المتحركة */
.rtl-icon,
.back-button .rtl-icon {
  backface-visibility: hidden;
  perspective: 1000px;
}

/* تحسين التحويلات */
.rtl-icon {
  transform-origin: center;
}

/* ===== قواعد إضافية للأسهم المعكوسة ===== */

/* إصلاح شامل لجميع الأسهم في RTL */
[dir='rtl'] svg[data-slot='icon'] path[d*='M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3'] {
  transform: scaleX(-1);
}

/* إصلاح أسهم التنقل في البطاقات */
[dir='rtl'] .group-hover\/image\:opacity-100 svg,
[dir='rtl'] .group-hover\:opacity-100 svg,
[dir='rtl'] .opacity-0 svg {
  transform: scaleX(-1);
}

/* إصلاح أسهم الاتجاهات في الخرائط */
[dir='rtl'] button[title*='اتجاه'] svg,
[dir='rtl'] button[title*='توجيه'] svg {
  transform: scaleX(-1);
}

/* إصلاح أسهم المؤشرات */
[dir='rtl'] .animate-bounce svg {
  transform: scaleX(-1);
}

/* قواعد عامة للأسهم المخصصة */
[dir='rtl'] .custom-arrow-left {
  transform: scaleX(-1);
}

[dir='rtl'] .custom-arrow-right {
  transform: scaleX(-1);
}

/* إصلاح أسهم النماذج */
[dir='rtl'] form button svg,
[dir='rtl'] .form-navigation svg {
  transform: scaleX(-1);
}

/* إصلاح أسهم التنقل في الصفحات */
[dir='rtl'] .page-navigation svg,
[dir='rtl'] .breadcrumb svg {
  transform: scaleX(-1);
}

/* ===== إصلاحات محددة للمكونات ===== */

/* إصلاح أسهم verify-identity */
[dir='rtl'] .verification-navigation svg {
  transform: scaleX(-1);
}

/* إصلاح أسهم صفحات النقل */
[dir='rtl'] .transport-navigation svg,
[dir='rtl'] .transport-back svg {
  transform: scaleX(-1);
}

/* إصلاح أسهم المحفظة */
[dir='rtl'] .wallet-navigation svg,
[dir='rtl'] .wallet-back svg {
  transform: scaleX(-1);
}


/* تم إزالة قواعد أسهم بطاقات السيارات المتضاربة - يتم التعامل معها في NavigationArrows */

/* ===== قواعد احتياطية شاملة ===== */

/* تم إزالة قواعد الأسهم العامة المتضاربة - يتم التعامل معها في NavigationArrows */

/* إصلاح أسهم Heroicons المحددة */
[dir='rtl'] svg[class*='w-'][class*='h-'] path[d*='M13.5'],
[dir='rtl'] svg[class*='w-'][class*='h-'] path[d*='m15.75'] {
  transform: scaleX(-1);
}

/* تم إزالة قواعد أسهم التنقل المتضاربة - يتم التعامل معها في NavigationArrows */

/* ===== إصلاح محدد للأسهم الاتجاهية فقط ===== */

/* تم تعطيل عكس الأسهم للآن - يسبب مشاكل في أزرار التمرير */
/* 
html[dir='rtl'] svg[data-slot='icon'] path[d='M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18'],
html[dir='rtl'] svg[data-slot='icon'] path[d='M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3'],
html[dir='rtl'] svg[data-slot='icon'] path[d='M15.75 19.5 8.25 12l7.5-7.5'],
html[dir='rtl'] svg[data-slot='icon'] path[d='M8.25 4.5l7.5 7.5-7.5 7.5'],
[dir='rtl'] svg[data-slot='icon'] path[d='M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18'],
[dir='rtl'] svg[data-slot='icon'] path[d='M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3'],
[dir='rtl'] svg[data-slot='icon'] path[d='M15.75 19.5 8.25 12l7.5-7.5'],
[dir='rtl'] svg[data-slot='icon'] path[d='M8.25 4.5l7.5 7.5-7.5 7.5'] {
  transform: scaleX(-1) !important;
}
*/

/* ===== إصلاح أسهم التنقل في معرض الصور ===== */

/* منع عكس جميع أسهم التنقل في معارض الصور - هي صحيحة بالفعل */
[dir='rtl'] .group button svg path[d*='M15 19l-7-7 7-7'],
[dir='rtl'] .group button svg path[d*='M9 5l7 7-7 7'],
html[dir='rtl'] .group button svg path[d*='M15 19l-7-7 7-7'],
html[dir='rtl'] .group button svg path[d*='M9 5l7 7-7 7'],
/* إضافة paths جديدة من Heroicons v2 */
[dir='rtl'] button svg path[d*='M15.75 19.5 8.25 12l7.5-7.5'],
[dir='rtl'] button svg path[d*='M8.25 4.5l7.5 7.5-7.5 7.5'],
html[dir='rtl'] button svg path[d*='M15.75 19.5 8.25 12l7.5-7.5'],
html[dir='rtl'] button svg path[d*='M8.25 4.5l7.5 7.5-7.5 7.5'],
/* استثناءات شاملة لجميع معارض الصور */
[dir='rtl'] .relative button svg[data-slot='icon'],
html[dir='rtl'] .relative button svg[data-slot='icon'],
[dir='rtl'] .auction-image-gallery button svg,
html[dir='rtl'] .auction-image-gallery button svg,
[dir='rtl'] [class*='gallery'] button svg,
html[dir='rtl'] [class*='gallery'] button svg,
/* إضافة SimpleImageRenderer و أزرار التنقل المُخصصة */
[dir='rtl'] .relative button svg[viewBox='0 0 24 24'],
html[dir='rtl'] .relative button svg[viewBox='0 0 24 24'],
[dir='rtl'] button svg path[d='M9 5l7 7-7 7'],
html[dir='rtl'] button svg path[d='M9 5l7 7-7 7'],
[dir='rtl'] button svg path[d='M15 19l-7-7 7-7'],
html[dir='rtl'] button svg path[d='M15 19l-7-7 7-7'] {
  transform: none !important;
}

/* تأكيد عدم عكس أسهم NavigationArrows */
[dir='rtl'] button[aria-label*='الصورة'] svg,
html[dir='rtl'] button[aria-label*='الصورة'] svg,
[dir='rtl'] button[aria-label*='السابقة'] svg,
html[dir='rtl'] button[aria-label*='السابقة'] svg,
[dir='rtl'] button[aria-label*='التالية'] svg,
html[dir='rtl'] button[aria-label*='التالية'] svg {
  transform: none !important;
}

/* إصلاح عاجل: ضمان ظهور أيقونات الأسهم في أزرار التمرير */
[dir='rtl'] button svg[data-slot='icon'],
html[dir='rtl'] button svg[data-slot='icon'],
[dir='rtl'] .absolute button svg[data-slot='icon'],
html[dir='rtl'] .absolute button svg[data-slot='icon'],
/* أزرار تمرير الصور بشكل عام */
[dir='rtl'] button.absolute svg,
html[dir='rtl'] button.absolute svg,
[dir='rtl'] .group button svg,
html[dir='rtl'] .group button svg {
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ضمان ظهور مسارات الأسهم */
[dir='rtl'] button svg path,
html[dir='rtl'] button svg path,
[dir='rtl'] .absolute button svg path,
html[dir='rtl'] .absolute button svg path {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  fill: none !important;
  stroke: currentColor !important;
}

/* إصلاح أسهم RTLIcon المحددة */
html[dir='rtl'] svg[data-rtl-icon='back'],
[dir='rtl'] svg[data-rtl-icon='back'],
html[lang='ar'] svg[data-rtl-icon='back'],
body.rtl svg[data-rtl-icon='back'] {
  transform: scaleX(-1) !important;
}

/* إصلاح عام لجميع الأسهم اليسارية في RTL */
html[dir='rtl'] svg path[d*='M10.5'],
[dir='rtl'] svg path[d*='M10.5'],
html[lang='ar'] svg path[d*='M10.5'] {
  transform: scaleX(-1) !important;
}

/* إصلاح أسهم المحفظة بشكل مخصص */
html[dir='rtl'] a[href='/wallet'] svg,
[dir='rtl'] a[href='/wallet'] svg {
  transform: scaleX(-1) !important;
}

/* ===== إصلاح قوي وشامل للأسهم ===== */

/* إصلاح جميع الأسهم اليسارية في RTL - قاعدة قوية جداً */
html[dir='rtl'] svg[data-slot='icon'] path[d='M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18'],
html[lang='ar'] svg[data-slot='icon'] path[d='M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18'],
[dir='rtl'] svg[data-slot='icon'] path[d='M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18'],
body svg[data-slot='icon'] path[d='M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18'] {
  transform: scaleX(-1) !important;
}

/* إصلاح أسهم الرجوع في جميع الحالات */
html[dir='rtl'] .rtl-icon-back,
html[lang='ar'] .rtl-icon-back,
[dir='rtl'] .rtl-icon-back,
body .rtl-icon-back {
  transform: scaleX(-1) !important;
}

/* إصلاح شامل لجميع أسهم Heroicons اليسارية */
html[dir='rtl'] svg path[d*='M10.5 19.5'],
html[lang='ar'] svg path[d*='M10.5 19.5'],
[dir='rtl'] svg path[d*='M10.5 19.5'],
body svg path[d*='M10.5 19.5'] {
  transform: scaleX(-1) !important;
}

/* إصلاح أسهم التنقل في الصفحات */
html[dir='rtl'] .w-5.h-5.text-gray-600,
html[lang='ar'] .w-5.h-5.text-gray-600,
[dir='rtl'] .w-5.h-5.text-gray-600 {
  transform: scaleX(-1) !important;
}

/* ===== إصلاح محدود ودقيق للأسهم فقط ===== */

/* إصلاح أسهم التنقل في الروابط - فقط الأسهم الاتجاهية */
html[dir='rtl'] a.back-link svg,
html[dir='rtl'] a.navigation-link svg,
html[dir='rtl'] a[href*='back'] svg,
[dir='rtl'] a.back-link svg,
[dir='rtl'] a.navigation-link svg,
[dir='rtl'] a[href*='back'] svg {
  transform: scaleX(-1) !important;
}

/* إصلاح أسهم الأزرار - فقط أزرار التنقل */
html[dir='rtl'] button.back-button:not(.no-flip-icon) svg,
html[dir='rtl'] button.navigation-button:not(.no-flip-icon) svg,
html[dir='rtl'] button[aria-label*='رجوع']:not(.no-flip-icon) svg,
html[dir='rtl'] button[aria-label*='العودة']:not(.no-flip-icon) svg,
[dir='rtl'] button.back-button:not(.no-flip-icon) svg,
[dir='rtl'] button.navigation-button:not(.no-flip-icon) svg,
[dir='rtl'] button[aria-label*='رجوع']:not(.no-flip-icon) svg,
[dir='rtl'] button[aria-label*='العودة']:not(.no-flip-icon) svg {
  transform: scaleX(-1) !important;
}

/* ===== منع عكس الأيقونات التي لا تحتاج للعكس ===== */

/* أيقونات العرض والتحكم */
html[dir='rtl'] svg[class*='Squares2X2'],
html[dir='rtl'] svg[class*='ListBullet'],
html[dir='rtl'] svg[class*='Funnel'],
html[dir='rtl'] svg[class*='MagnifyingGlass'],
html[dir='rtl'] svg[class*='Plus'],
html[dir='rtl'] svg[class*='XMark'],
html[dir='rtl'] svg[class*='Clock'],
html[dir='rtl'] svg[class*='Trophy'],
html[dir='rtl'] svg[class*='Star'],
html[dir='rtl'] svg[class*='Heart'],
html[dir='rtl'] svg[class*='Eye'],
html[dir='rtl'] svg[class*='Phone'],
html[dir='rtl'] svg[class*='Building'],
html[dir='rtl'] svg[class*='Check'],
html[dir='rtl'] svg[class*='Sparkles'],
html[dir='rtl'] svg[class*='Currency'],
html[dir='rtl'] svg[class*='User'],
html[dir='rtl'] svg[class*='Cog'],
html[dir='rtl'] svg[class*='Chart'],
html[dir='rtl'] svg[class*='Document'],
html[dir='rtl'] svg[class*='Information'],
html[dir='rtl'] svg[class*='Exclamation'],
html[dir='rtl'] svg[class*='Bell'],
html[dir='rtl'] svg[class*='Globe'],
html[dir='rtl'] svg[class*='Map'],
html[dir='rtl'] svg[class*='Calendar'],
html[dir='rtl'] svg[class*='Lock'],
html[dir='rtl'] svg[class*='Key'],
[dir='rtl'] svg[class*='Squares2X2'],
[dir='rtl'] svg[class*='ListBullet'],
[dir='rtl'] svg[class*='Funnel'],
[dir='rtl'] svg[class*='MagnifyingGlass'],
[dir='rtl'] svg[class*='Plus'],
[dir='rtl'] svg[class*='XMark'],
[dir='rtl'] svg[class*='Clock'],
[dir='rtl'] svg[class*='Trophy'],
[dir='rtl'] svg[class*='Star'],
[dir='rtl'] svg[class*='Heart'],
[dir='rtl'] svg[class*='Eye'],
[dir='rtl'] svg[class*='Phone'],
[dir='rtl'] svg[class*='Building'],
[dir='rtl'] svg[class*='Check'],
[dir='rtl'] svg[class*='Sparkles'],
[dir='rtl'] svg[class*='Currency'],
[dir='rtl'] svg[class*='User'],
[dir='rtl'] svg[class*='Cog'],
[dir='rtl'] svg[class*='Chart'],
[dir='rtl'] svg[class*='Document'],
[dir='rtl'] svg[class*='Information'],
[dir='rtl'] svg[class*='Exclamation'],
[dir='rtl'] svg[class*='Bell'],
[dir='rtl'] svg[class*='Globe'],
[dir='rtl'] svg[class*='Map'],
[dir='rtl'] svg[class*='Calendar'],
[dir='rtl'] svg[class*='Lock'],
[dir='rtl'] svg[class*='Key'] {
  transform: none !important;
}

/* ===== منع عكس أيقونات محددة باستخدام path ===== */

/* أيقونات المباني والجوائز والنجاح */
html[dir='rtl'] svg path[d*='M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21'],
html[dir='rtl'] svg path[d*='M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'],
html[dir='rtl']
  svg
  path[d*='M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.563.563 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z'],
html[dir='rtl'] svg path[d*='M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25'],
html[dir='rtl'] svg path[d*='M8.25 6.75h12M8.25 12h12m-12 5.25h12'],
html[dir='rtl']
  svg
  path[d*='M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75'],
html[dir='rtl'] svg path[d*='M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'],
html[dir='rtl']
  svg
  path[d*='M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z'],
html[dir='rtl']
  svg
  path[d*='M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z'],
html[dir='rtl'] svg path[d*='M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z'],
html[dir='rtl']
  svg
  path[d*='M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75'],
html[dir='rtl'] svg path[d*='M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75'],
[dir='rtl'] svg path[d*='M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21'],
[dir='rtl'] svg path[d*='M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'],
[dir='rtl']
  svg
  path[d*='M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.563.563 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z'],
[dir='rtl'] svg path[d*='M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25'],
[dir='rtl'] svg path[d*='M8.25 6.75h12M8.25 12h12m-12 5.25h12'],
[dir='rtl'] svg path[d*='M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75'],
[dir='rtl'] svg path[d*='M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'],
[dir='rtl']
  svg
  path[d*='M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z'],
[dir='rtl']
  svg
  path[d*='M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z'],
[dir='rtl'] svg path[d*='M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z'],
[dir='rtl']
  svg
  path[d*='M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75'],
[dir='rtl'] svg path[d*='M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75'] {
  transform: none !important;
}

/* ===== تحسينات الأداء ===== */

/* منع التشويش أثناء التحويل */
.rtl-icon {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transform-origin: center;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* ===== قواعد المكون الجديد RTLSafeIcon ===== */

/* أيقونات يجب عكسها في RTL */
[dir='rtl'] .rtl-flip-icon,
html[dir='rtl'] .rtl-flip-icon,
html[lang='ar'] .rtl-flip-icon {
  transform: scaleX(-1) !important;
}

/* أيقونات لا يجب عكسها أبداً */
[dir='rtl'] .no-flip-icon,
html[dir='rtl'] .no-flip-icon,
html[lang='ar'] .no-flip-icon,
[dir='rtl'] .no-flip-icon svg,
html[dir='rtl'] .no-flip-icon svg,
html[lang='ar'] .no-flip-icon svg {
  transform: none !important;
}

/* ===== قواعد نهائية محددة ===== */

/* إصلاح أسهم التنقل المحددة فقط */
html[dir='rtl'] .rtl-arrow,
html[dir='rtl'] button[aria-label*='رجوع']:not(.no-flip-icon) svg,
html[dir='rtl'] button[aria-label*='العودة']:not(.no-flip-icon) svg,
html[dir='rtl'] a[href*='back']:not(.no-flip-icon) svg,
[dir='rtl'] .rtl-arrow,
[dir='rtl'] button[aria-label*='رجوع']:not(.no-flip-icon) svg,
[dir='rtl'] button[aria-label*='العودة']:not(.no-flip-icon) svg,
[dir='rtl'] a[href*='back']:not(.no-flip-icon) svg {
  transform: scaleX(-1) !important;
}

/* ===== حماية إضافية للأيقونات الجديدة ===== */

/* التأكد من أن الأيقونات الجديدة لها الأولوية */
[dir='rtl'] .rtl-flip-icon svg,
html[dir='rtl'] .rtl-flip-icon svg,
html[lang='ar'] .rtl-flip-icon svg {
  transform: scaleX(-1) !important;
}

[dir='rtl'] .no-flip-icon svg,
html[dir='rtl'] .no-flip-icon svg,
html[lang='ar'] .no-flip-icon svg,
[dir='rtl'] .no-flip-icon *,
html[dir='rtl'] .no-flip-icon *,
html[lang='ar'] .no-flip-icon * {
  transform: none !important;
}

/* منع تأثير القواعد العامة على الأيقونات المحمية */
[dir='rtl'] .no-flip-icon,
html[dir='rtl'] .no-flip-icon,
html[lang='ar'] .no-flip-icon {
  transform: none !important;
}

/* قاعدة نهائية لضمان عدم العكس للأيقونات المحددة */
[dir='rtl'] svg[class*='Trophy'],
[dir='rtl'] svg[class*='Star'],
[dir='rtl'] svg[class*='Check'],
[dir='rtl'] svg[class*='Building'],
[dir='rtl'] svg[class*='Eye'],
[dir='rtl'] svg[class*='Phone'],
[dir='rtl'] svg[class*='Currency'],
[dir='rtl'] svg[class*='User'],
[dir='rtl'] svg[class*='Heart'],
[dir='rtl'] svg[class*='Bell'],
html[dir='rtl'] svg[class*='Trophy'],
html[dir='rtl'] svg[class*='Star'],
html[dir='rtl'] svg[class*='Check'],
html[dir='rtl'] svg[class*='Building'],
html[dir='rtl'] svg[class*='Eye'],
html[dir='rtl'] svg[class*='Phone'],
html[dir='rtl'] svg[class*='Currency'],
html[dir='rtl'] svg[class*='User'],
html[dir='rtl'] svg[class*='Heart'],
html[dir='rtl'] svg[class*='Bell'] {
  transform: none !important;
}

/* منع أي عكس داخل .no-flip-icon حتى على عناصر path */
html[dir='rtl'] .no-flip-icon svg path,
html[dir='rtl'] .no-flip-icon svg path[d],
[dir='rtl'] .no-flip-icon svg path,
[dir='rtl'] .no-flip-icon svg path[d],
html[lang='ar'] .no-flip-icon svg path,
html[lang='ar'] .no-flip-icon svg path[d] {
  transform: none !important;
}
